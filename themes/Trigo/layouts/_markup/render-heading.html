{{- /* Custom rendering for markdown content headings:

  - Support for CSS class` and `style` attributes.
  - Anchor link next to heading.
*/ -}}

{{- $class := .Attributes.class -}}
{{- $style := .Attributes.style -}}
{{- $level := .Level -}}
{{- $anchor := .Anchor | safeURL -}}
{{- $text := .Text | safeHTML -}}

<h{{ $level }}
  id="{{ $anchor }}"
  {{- with $class -}} class="{{ . }}"{{- end -}}
  {{- with $style -}} style="{{ . | safeCSS }}"{{- end -}}>
  {{ $text }}
  <a class="heading-anchor"
     href="#{{ $anchor }}"
     title="{{ $text }}"
     aria-label="{{ $text }}">
    {{- partial "utils/icon.html" "anchor" -}}
  </a>
</h{{ $level }}>