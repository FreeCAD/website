{{- /* Custom rendering for headings:

  - Support for CSS class and style attributes.
  - Anchor link next to heading.

  @param {string} [class] CSS class to use.
  @param {string} [style] CSS style properties to use.

  @returns {template.HTML}

  @examples

    ## Heading with custom style {style="color: red;"}

*/ -}}

{{- $class := .Attributes.class -}}
{{- $style := .Attributes.style -}}
{{- $level := .Level -}}
{{- $anchor := .Anchor -}}
{{- $text := .Text -}}

<h{{ $level }}
  id="{{ $anchor }}"
  {{- with $class -}} class="{{ . }}"{{- end -}}
  {{- with $style -}} style="{{ . | safeCSS }}"{{- end -}}>
  {{ $text }}
  <a class="heading-anchor"
     href="#{{ $anchor }}"
     title="{{ $text }}"
     aria-label="{{ $text }}">
    {{- with (partial "utils/icon.html" "anchor") -}}
      <span class="icon">{{ . }}</span>
    {{- end -}}
  </a>
</h{{ $level }}>