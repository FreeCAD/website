{{/* Site Footer:
  - Render footer menu by section.
  - Add social media links.
  - Add custom links.
  - Small notice with copyright.
  - Get Scripts partial.
*/}}

{{- $currentPage := . -}}
{{- $menuFooter := site.Menus.footer | default site.Sites.Default.Menus.footer -}}
{{- $pageUrl := $currentPage.RelPermalink -}}
{{- $linksMax := site.Params.footerSectionLinksMax | default 6 -}}
{{- $customLinks := site.Data.footer_links | default slice -}}

<footer class="site-footer">

  {{/* Footer Menu Sections */}}
  <section class="footer-menu">
    {{- range $menuFooter -}}
      {{- partial "footer/menu.html" (dict
          "Section" .
          "CurrentPage" $currentPage
          "CustomLinks" $customLinks
          "MaxLinks" $linksMax
      ) -}}
    {{- end -}}
  </section>

  {{/* Social media share links. */}}
  {{- partial "share/share.html" . -}}

  {{/* Standalone custom links without parent sections. */}}
  {{- partial "footer/custom_links.html" $customLinks -}}

  {{- if not hugo.IsProduction -}}
    {{- partial "icons" . -}}
  {{- end -}}

  {{/* Small notice with copyright. */}}
  {{- partial "footer/copyright.html" . -}}

</footer>

{{/* A bunch of JS to load at the end. */}}
{{- partial "footer/footer_scripts.html" . -}}