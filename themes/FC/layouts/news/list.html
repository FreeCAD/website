{{- define "main" -}}

{{/* Debug only in non-production environments. */}}
{{- if not hugo.IsProduction -}}
  {{- partial "debug.html" . -}}
{{- end -}}

<header>
  {{- partial "categories_list.html" . -}}

  <h1 class="title">
    {{ .Title | .RenderString }}
  </h1>

  {{- if .Description -}}
    <h3 class="description">
      {{ .Description | .RenderString }}
    </h3>
  {{- end -}}

  {{- with .Params.cards -}}
    {{- partial "hero_cards.html" . -}}
  {{- end -}}

  {{- partial "hero_cover.html" . -}}
</header>

{{/* Get latest pages from current section, and fill in missing translated pages from default language Site. */}}
{{- $pages := where (.RegularPages | lang.Merge site.Sites.Default.RegularPages) "Section" .Section -}}

{{- partial "list_paginator.html" (dict "pages" $pages "context" .) -}}

{{- end -}}
{{/* End main. */}}
